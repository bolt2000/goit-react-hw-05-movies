{"version":3,"file":"static/js/616.6e691396.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx","services/GetMoviesTrend.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"fl\":\"MovieDetails_fl__+DahA\",\"fl2\":\"MovieDetails_fl2__KQ5Lc\"};","import { useEffect, useState } from 'react';\nimport { useRef } from 'react';\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { getMoviesDetails } from 'services/GetMoviesTrend';\nimport css from './MovieDetails.module.css';\n// import { Audio } from 'react-loader-spinner';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [error, setError] = useState(null);\n  const [movie, setMovie] = useState([]);\n  const IMG_PATH = 'https://image.tmdb.org/t/p/original';\n  const backLinkLocation = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n\n    getMoviesDetails(movieId)\n      .then(res => setMovie(res))\n      .catch(error => {\n        setError(error.message);\n      });\n\n    console.log(movieId);\n\n    // if (error) {\n    //   return <h1>Don't play with URL please. It's not funny</h1>;\n    // }\n  }, [error, movieId]);\n\n  const {\n    original_title,\n    overview,\n    genres,\n    release_date,\n    vote_average,\n    // vote_count,\n    poster_path,\n  } = movie;\n\n  return (\n    <>\n      <Link to={backLinkLocation.current}>Go back</Link>\n\n      <div className={css.fl}>\n        <img\n          src={`${IMG_PATH}/${poster_path}`}\n          alt={original_title}\n          width=\"240px\"\n        />\n        <div className={css.fl2}>\n          <h2>\n            {original_title} ({parseFloat(release_date)})\n          </h2>\n          <p>{`User score: ${Math.round(vote_average * 10)}%`}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          {genres && (\n            <ul>\n              {movie.genres.map(genre => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n\n      <div>Additional information</div>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Outlet />\n    </>\n  );\n};\n\nexport default MovieDetails;\n","\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd923cfd5f948398665667bae929771df';\n// const PER_PAGE = 12;\n\nexport const getMovies = async () => {\n  const res = await fetch(`${BASE_URL}/trending/movie/week?api_key=${API_KEY}`);\n  return await res.json();\n};\n\nexport const getSearchMovie = async movieId => {\n  const res = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${movieId}&page=1&include_adult=false`\n  );\n  return await res.json();\n};\n\nexport const getMoviesDetails = async movieId => {\n  const res = await fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n  return await res.json(res);\n};\n\nexport const getMoviesCredits = async movieId => {\n  const res = await fetch(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return await res.json();\n};\n\nexport const getMoviesReviews = async movieId => {\n  const res = await fetch(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1?`\n  );\n  return await res.json();\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movieId","useParams","location","useLocation","useState","error","setError","movie","setMovie","backLinkLocation","useRef","state","from","useEffect","getMoviesDetails","then","res","catch","message","console","log","original_title","overview","genres","release_date","vote_average","poster_path","to","current","className","css","src","alt","width","parseFloat","Math","round","map","genre","name","id","BASE_URL","API_KEY","getMovies","fetch","json","getSearchMovie","getMoviesCredits","getMoviesReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}